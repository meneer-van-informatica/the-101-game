<main>
  <h1>W0 ‚Äì The 101 Game</h1>
  <p>Lampen schakelen vanaf je telefoon.</p>

  <div class="row">
    <button id="btn-on"  class="ok">üí° Lampen Aan</button>
    <button id="btn-off" class="off">üï≥Ô∏è Lampen Uit</button>
    <button id="btn-toggle">‚ÜîÔ∏è Toggle</button>
  </div>
  <div id="status">‚è≥ klaar</div>

  <nav><a href="./index.html">Terug</a></nav>
</main>
<script>
  // --- vul precies √©√©n van de twee varianten in ---
  // 1) Worker (aanrader; geen key in HTML)
  const ON  = 'https://JOUW-WORKER.workers.dev/api/lampen/aan';
  const OFF = 'https://JOUW-WORKER.workers.dev/api/lampen/uit';

  // 2) IFTTT rechtstreeks (makkelijk, KEY staat zichtbaar)
  // const ON  = 'https://maker.ifttt.com/trigger/lampen_aan/with/key/JOUW_KEY';
  // const OFF = 'https://maker.ifttt.com/trigger/lampen_uit/with/key/JOUW_KEY';

  const S = document.getElementById('status');
  async function call(url, what){
    S.textContent = '‚è≥ ' + what + '...';
    try{
      const r = await fetch(url, { method:'POST', mode:'cors' });
      if (r.ok) { S.textContent = '‚úÖ ' + what; localStorage.lamp_last = what; }
      else      { S.textContent = '‚ùå ' + what + ' (' + r.status + ')'; }
    }catch(e){ S.textContent = '‚ùå netwerk'; }
  }
  document.getElementById('btn-on').onclick    = ()=>call(ON,'aan');
  document.getElementById('btn-off').onclick   = ()=>call(OFF,'uit');
  document.getElementById('btn-toggle').onclick= ()=>{
    const last = localStorage.lamp_last || 'uit';
    (last === 'aan') ? call(OFF,'uit') : call(ON,'aan');
  };
  // toon laatst bekende status
  if (localStorage.lamp_last) S.textContent = '‚ÑπÔ∏è laatst: ' + localStorage.lamp_last;
</script>
<style>
  body { font-family: system-ui, sans-serif; max-width: 720px; margin: 2rem auto; padding: 0 1rem; }
  .row { display: flex; gap: .75rem; flex-wrap: wrap; margin: 1rem 0; }
  button { padding: 1rem 1.25rem; border: 0; font-size: 1.05rem; cursor: pointer; border-radius: .5rem; }
  .ok  { background:#0a0; color:#fff; }
  .off { background:#444; color:#fff; }
  #btn-toggle { background:#0057d9; color:#fff; }
  #status { margin-top:.5rem; opacity:.8 }
</style>
